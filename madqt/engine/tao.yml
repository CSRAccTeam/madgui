# tao specific configuration file

# overwrites and extensions for tao's unit database:
units:
  # tao bug:
  beta_a:   m
  beta_b:   m

  # FIXME: these are needed because my code is so bad
  at:       m
  a_emit:   m
  b_emit:   m
  posx:     m
  posy:     m
  envx:     m
  envy:     m
  betx:   m
  bety:   m


curve_style:
  # currently, we support at most 4 curves per graph:
  - &base_style
    linestyle: "-"
    linewidth: 2
    color: "#8b1a0e"
  - <<: *base_style
    color: "#005000"
  - <<: *base_style
    color: "#0044aa"
  - <<: *base_style
    color: "#444444"


parameter_sets:
  init:
    beam:
      query: 'beam_init {universe}'
      write: 'set beam_init {key} = {val}'
    orbit:
      query: 'lat_ele1 {universe}@{branch}>>0|model orbit'
      write: 'change beam_start {key} @{val}'
    twiss:
      query: 'lat_ele1 {universe}@{branch}>>0|model twiss'
      write: 'set element beginning {key} = {val}'

  element:
    general:
      query: 'lat_ele1 {universe}@{branch}>>{element}|model general'
      write: 'set element {element} {key} = {val}'
    parameters:
      query: 'lat_ele1 {universe}@{branch}>>{element}|model parameters'
      write: 'set element {element} {key} = {val}'
    multipole:
      query: 'lat_ele1 {universe}@{branch}>>{element}|model multipole'
      write: 'set element {element} {key} = {val}'
    orbit:
      query: 'lat_ele1 {universe}@{branch}>>{element}|model orbit'
      write: 'set element {element} {key} = {val}'
    twiss:
      query: 'lat_ele1 {universe}@{branch}>>{element}|model twiss'
      write: 'set element {element} {key} = {val}'


matching:

  # list of tao data types, extracted from:
  # tao/code/tao_data_and_eval_mod.f90 (subroutine tao_evaluate_a_datum)
  element:
    - alpha.a
    - alpha.b
    - alpha.z
    - apparent_emit.x
    - apparent_emit.y
    - norm_apparent_emit.x
    - norm_apparent_emit.y
    - beta.x
    - beta.y
    - beta.z
    - beta.a
    - beta.b
    - bpm_orbit.x
    - bpm_orbit.y
    - bpm_eta.x
    - bpm_eta.y
    - bpm_phase.a
    - bpm_phase.b
    - bpm_k.22a
    - bpm_k.12a
    - bpm_k.11b
    - bpm_k.12b
    - bpm_cbar.22a
    - bpm_cbar.12a
    - bpm_cbar.11b
    - bpm_cbar.12b
    - bunch_max.x
    - bunch_max.px
    - bunch_max.y
    - bunch_max.py
    - bunch_max.z
    - bunch_max.pz
    - bunch_min.x
    - bunch_min.px
    - bunch_min.y
    - bunch_min.py
    - bunch_min.z
    - bunch_min.pz
    - c_mat.11
    - c_mat.12
    - c_mat.21
    - c_mat.22
    - cbar.11
    - cbar.12
    - cbar.21
    - cbar.22
    - chrom.dtune.a
    - chrom.dtune.b
    - chrom.a
    - chrom.b
    - chrom.dta.a
    - chrom.dbeta.b
    - chrom.dphi.a
    - chrom.dphi.b
    - chrom.deta.x
    - chrom.deta.y
    - chrom.detap.x
    - chrom.detap.y
    - damp.j_a
    - damp.j_b
    - damp.j_z
    - dpx_dx
    - dpy_dy
    - dpz_dz
    - e_tot
    - e_tot_ref
    - element_attrib.
    - emit.x
    - emit.y
    - emit.z
    - emit.a
    - emit.b
    - emit.c
    - norm_emit.x
    - norm_emit.y
    - norm_emit.z
    - norm_emit.a
    - norm_emit.b
    - norm_emit.c
    - eta.a
    - eta.b
    - eta.x
    - eta.y
    - eta.z
    - etap.a
    - etap.b
    - etap.x
    - etap.y
    - 'expression:'
    - floor.x
    - floor.y
    - floor.z
    - floor.theta
    - floor.phi
    - floor.psi
    - gamma.a
    - gamma.b
    - gamma.z
    - k.11b
    - k.12a
    - k.12b
    - k.22a
    - normal.dhdj.
    - normal.A.
    - normal.A_inv.
    - normal.M.
    - normal.ReF.
    - normal.ImF.
    - normal.ReL.
    - normal.ImL.
    - momentum
    - momentum_compaction
    - n_particle_loss
    - orbit.e_tot
    - orbit.x
    - orbit.y
    - orbit.z
    - orbit.px
    - orbit.py
    - orbit.pz
    - orbit.amp_a
    - orbit.amp_b
    - orbit.norm_amp_a
    - orbit.norm_amp_b
    - pc
    - periodic.tt.
    - phase.a
    - phase.b
    - phase_frac.a
    - phase_frac.b
    - phase_frac_diff
    - photon.intensity_x
    - photon.intensity_y
    - photon.intensity
    - photon.phase_x
    - photon.phase_y
    - ping_a.amp_x
    - ping_a.phase_x
    - ping_a.amp_y
    - ping_a.phase_y
    - ping_a.sin_y
    - ping_a.cos_y
    - ping_b.amp_y
    - ping_b.phase_y
    - ping_b.amp_x
    - ping_b.phase_x
    - ping_b.sin_x
    - ping_b.cos_x
    - r.
    - r56_compaction
    - rad_int.i1
    - rad_int.i2
    - rad_int.i2_e4
    - rad_int.i3
    - rad_int.i3_e7
    - rad_int.i4a
    - rad_int.i4b
    - rad_int.i4z
    - rad_int.i5a
    - rad_int.i5a_e6
    - rad_int.i5b
    - rad_int.i5b_e6
    - rad_int.i6b
    - rad_int1.i1
    - rad_int1.i2
    - rad_int1.i2_e4
    - rad_int1.i3
    - rad_int1.i3_e7
    - rad_int1.i4a
    - rad_int1.i5a
    - rad_int1.i5a_e6
    - rad_int1.i4b
    - rad_int1.i5b
    - rad_int1.i5b_e6
    - rad_int1.i6b
    - ref_time
    - rel_floor.x
    - rel_floor.y
    - rel_floor.z
    - rel_floor.theta
    - rel_floor.phi
    - rel_floor.psi
    - sigma.
    - sigma.x
    - sigma.px
    - sigma.y
    - sigma.py
    - sigma.z
    - sigma.pz
    - sigma.xy
    - sigma.Lxy
    - spin.x
    - spin.y
    - spin.z
    - spin.theta
    - spin.phi
    - spin.amplitude
    - s_position
    - time
    - tune.a
    - tune.b
    - t.
    - tt.
    - unstable.orbit
    - unstable.ring
    - velocity
    - velocity.x
    - velocity.y
    - velocity.z
    - wall.
    - wire.
